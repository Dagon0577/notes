# 学习内容 2019-09-19
- [账号匹配是怎么回事，优先级和规则是什么。](https://dev.mysql.com/doc/refman/8.0/en/connection-access.html)

#

如果User列值为非空白，则传入连接中的用户名必须完全匹配。如果该 User值为空白，则它与任何用户名匹配。如果user与传入连接匹配的表行的用户名为空，则该用户将被视为没有名称的匿名用户，而不是具有客户端实际指定名称的用户。这意味着在连接持续时间内（即在第2阶段），将使用空白用户名进行所有进一步的访问检查。

该authentication_string列可以为空白。这不是通配符，并不意味着任何密码都匹配。这意味着用户必须在未指定密码的情况下进行连接。如果服务器使用插件对客户端进行身份验证，则该插件实现的身份验证方法可以使用也可以不使用该authentication_string 列中的密码。在这种情况下，有可能还使用外部密码对MySQL服务器进行身份验证。

表中的非 空白authentication_string值 user表示加密的密码。MySQL不会将密码存储为明文，任何人都可以看到。而是，将尝试连接的用户提供的密码进行加密（使用由帐户身份验证插件实现的密码哈希方法）。然后在检查密码是否正确时在连接过程中使用加密的密码。这样就不会在连接上传输加密密码。


服务器使用排序规则，该规则首先对具有最特定Host值的行进行排序。文字主机名和IP地址是最具体的。（文字IP地址的特异性不受其是否具有网络掩码的影响，因此，198.51.100.13并且 198.51.100.0/255.255.255.0被认为是同等具体的。）该模式'%'表示 “ 任何主机 ”，并且是最不具体的。空字符串 ''也表示“ 任何主机 ”，但排在后面'%'。具有相同Host值的行 User首先按最特定的值排序 （空白 User值表示“ 任何用户 ”并且是最不明确的）。对于具有相同特定 值Host和User值的行，顺序是不确定的。


